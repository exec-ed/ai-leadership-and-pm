<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>facilitation-guide</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="facilitation-guide_files/libs/clipboard/clipboard.min.js"></script>
<script src="facilitation-guide_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="facilitation-guide_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="facilitation-guide_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="facilitation-guide_files/libs/quarto-html/popper.min.js"></script>
<script src="facilitation-guide_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="facilitation-guide_files/libs/quarto-html/anchor.min.js"></script>
<link href="facilitation-guide_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="facilitation-guide_files/libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="facilitation-guide_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="facilitation-guide_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="facilitation-guide_files/libs/bootstrap/bootstrap-d6a003b94517c951b2d65075d42fb01b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">




<section id="crisis-management-simulation" class="level1">
<h1>CRISIS MANAGEMENT SIMULATION</h1>
<section id="staff-answers-debriefing-guide" class="level2">
<h2 class="anchored" data-anchor-id="staff-answers-debriefing-guide">Staff Answers &amp; Debriefing Guide</h2>
<p><strong>Activity Duration:</strong> 80 min total (4 crises × 20 min each) <strong>Crisis Format:</strong> 15 min working time + 3 min presentation + 2 min debrief per crisis <strong>Difficulty:</strong> Hard <strong>Key Skills Being Tested:</strong> Crisis leadership, stakeholder communication, decision-making under uncertainty, values-based thinking</p>
<hr>
</section>
<section id="activity-overview" class="level2">
<h2 class="anchored" data-anchor-id="activity-overview">ACTIVITY OVERVIEW</h2>
<p>Participants face four increasingly complex crises that unfold during a live AI implementation. Each crisis forces them to: - Diagnose a problem quickly with limited information - Make a decision (often with no perfect option) - Communicate with stakeholders - Justify their reasoning</p>
<hr>
</section>
<section id="crisis-1-data-quality-disaster" class="level2">
<h2 class="anchored" data-anchor-id="crisis-1-data-quality-disaster">CRISIS #1: DATA QUALITY DISASTER</h2>
<p><strong>Scenario Duration:</strong> 20 min (15 min work + 3 min presentation + 2 min debrief)</p>
<section id="the-setup" class="level3">
<h3 class="anchored" data-anchor-id="the-setup">THE SETUP</h3>
<p><em>“It’s Week 1 of your live pilot. Your AI customer service chatbot launched 5 days ago to handle ~30% of queries (order tracking and return policy questions). Initial results in controlled testing were promising (85% accuracy).</em></p>
<p><em>But now you’re getting real-world reports: AI is giving customers WRONG tracking numbers, outdated return policies, and conflicting product information.</em></p>
<p><em>One customer received tracking numbers for THREE different orders in response to a single question. They called customer service in confusion and frustration.</em></p>
<p><em>Your data scientist says: ‘Training data was mixed up. Old versions of product info got mixed into the knowledge base. This is fixable but will take 2-3 weeks of data cleaning and retraining.’</em></p>
<p><em>You have 30 minutes to decide what to do.”</em></p>
<hr>
</section>
<section id="staff-answer---what-excellent-leadership-looks-like" class="level3">
<h3 class="anchored" data-anchor-id="staff-answer---what-excellent-leadership-looks-like">STAFF ANSWER - What Excellent Leadership Looks Like</h3>
<p><strong>Principle:</strong> Safety first + transparency + clear communication + accountability</p>
<p><strong>Immediate Actions (Minute 1-5):</strong></p>
<ol type="1">
<li><strong>PAUSE the AI</strong> for routine queries (order tracking specifically—the one causing the most damage)</li>
<li><strong>Escalate to data scientist immediately:</strong> “Show me the training data. What’s wrong? How long to fix?”</li>
<li><strong>Inform customer service manager:</strong> “Tell your team: AI is paused; all queries route to humans for now.”</li>
<li><strong>Prepare holding message for customers:</strong> “We’re investigating a data issue with our AI. You’ll chat with a human shortly. We apologize.”</li>
</ol>
<p><strong>Decision Framework (Minute 5-15):</strong></p>
<p><strong>Option A: Full Pause</strong> - Stop all AI responses immediately - Spend 2-3 weeks cleaning data, retraining - Restart with corrected model - <strong>Trade-off:</strong> Delays pilot by 3 weeks; hurts momentum; shows leadership you can’t trust the system - <strong>When to choose:</strong> Data quality is fundamentally broken; retraining won’t fix in &lt;1 week - <strong>Staff’s call:</strong> START HERE. Safety first.</p>
<p><strong>Option B: Hybrid Pause (Balanced Approach)</strong> - Pause auto-responses BUT - Keep AI in “suggested response” mode where humans review before sending - This lets data scientist retrain while team provides quality control - <strong>Trade-off:</strong> Slower than full automation but faster than full pause - <strong>When to choose:</strong> You have good people to do QA; want to preserve momentum - <strong>Staff’s call:</strong> Most balanced approach if team has capacity</p>
<p><strong>Option C: Continue with Enhanced QA (High Risk)</strong> - Keep AI running BUT flag every response as “requires human review” before customer sees it - Simultaneously retrain the model - <strong>Trade-off:</strong> No speed benefit yet, but proves you can catch/fix errors in real-time - <strong>When to choose:</strong> Data scientist says retraining will be done in &lt;5 days - <strong>Staff’s call:</strong> Only choose if you’re very confident about timeline</p>
<hr>
</section>
<section id="your-immediate-communication" class="level3">
<h3 class="anchored" data-anchor-id="your-immediate-communication">YOUR IMMEDIATE COMMUNICATION</h3>
<p><strong>To Customer Service Manager:</strong></p>
<blockquote class="blockquote">
<p>“The AI gave wrong information to some customers. We’re pausing it while the data team fixes the underlying data. For the next 2 days, everything routes to your team. I know this sucks—we had momentum. But safety comes first. After data fixes, we’ll restart with human review first.”</p>
</blockquote>
<p><strong>To CEO/Executive Sponsor:</strong></p>
<blockquote class="blockquote">
<p>“We found a data quality issue in the AI. No customer data was compromised, but accuracy was being affected. We’re pausing the pilot for 2 weeks to fix it. This is exactly why we run pilots—to catch issues before scaling. Better now than after full rollout.”</p>
</blockquote>
<p><strong>To Data Scientist:</strong></p>
<blockquote class="blockquote">
<p>“Talk me through what happened. How long to fix? What does retraining look like? What’s the risk it happens again? Do we need to retrain any other components?”</p>
</blockquote>
<p><strong>To Customers (website/chat message):</strong></p>
<blockquote class="blockquote">
<p>“We’re improving our AI service. You may experience slower chat response for a few days. We’re ensuring accuracy before expanding AI support. Your data is secure. Thank you for your patience.”</p>
</blockquote>
<hr>
</section>
<section id="the-learning-point-youre-testing" class="level3">
<h3 class="anchored" data-anchor-id="the-learning-point-youre-testing">The Learning Point You’re Testing</h3>
<p><strong>“In a crisis, transparency + quick action + clear communication beats spin every time.”</strong></p>
<p>Participants who: - ✓ Pause immediately → Safety first ✓ - ✓ Communicate clearly → Builds trust ✓ - ✓ Take ownership → Leadership ✓ - ✓ Have a fix plan → Confidence ✓</p>
<p>Participants who: - ❌ Hide the issue → Will blow up worse later - ❌ Blame the data team → Avoid responsibility - ❌ Keep trying to make it work → Reckless - ❌ Say “we’re monitoring it” → Wishy-washy</p>
<hr>
</section>
<section id="debrief-questions-for-crisis-1" class="level3">
<h3 class="anchored" data-anchor-id="debrief-questions-for-crisis-1">DEBRIEF QUESTIONS FOR CRISIS #1</h3>
<ol type="1">
<li><strong>“Walk me through your first decision. Pause or continue?”</strong>
<ul>
<li><em>Expected answer:</em> Most good leaders pause</li>
<li><em>Staff model:</em> “Pause. We have a data quality issue. Continuing makes it worse. We lose 2 weeks but gain credibility.”</li>
<li><em>If they say continue:</em> “What if accuracy doesn’t improve? Now you’ve lost 2 weeks AND customer trust.”</li>
</ul></li>
<li><strong>“How would you tell the CEO about this without sounding like you screwed up?”</strong>
<ul>
<li><em>Staff model:</em> “Frame it as pilot success: ‘We caught this in a contained pilot. Better than discovering after full scale. Here’s how we’ll fix it.’ Pilots exist for this.”</li>
<li><em>Teaching point:</em> Crisis communication is about framing, not spin. “We found a problem and we’re fixing it” is stronger than “Everything’s fine.”</li>
</ul></li>
<li><strong>“Your team is frustrated—they had momentum. How do you keep them engaged?”</strong>
<ul>
<li><em>Staff model:</em> “Celebrate that you caught the error, not hid it. ‘Your feedback caught this. That’s exactly what we need from you.’ Transparent timeline: ‘We pause for 2 weeks, restart with your QA in the loop. You control this now.’”</li>
</ul></li>
<li><strong>“If this happened in production after full scale, how would it be different?”</strong>
<ul>
<li><em>Staff model:</em> “Catastrophic. Thousands of customers getting wrong info. Regulatory issues. Loss of trust takes months to rebuild. Pilots exist to prevent this exact scenario.”</li>
<li><em>Key insight:</em> Pilots are expensive insurance. This crisis justifies the entire pilot concept.</li>
</ul></li>
</ol>
<hr>
<hr>
</section>
</section>
<section id="crisis-2-team-resistance" class="level2">
<h2 class="anchored" data-anchor-id="crisis-2-team-resistance">CRISIS #2: TEAM RESISTANCE</h2>
<p><strong>Scenario Duration:</strong> 20 min (15 min work + 3 min presentation + 2 min debrief)</p>
<section id="the-setup-1" class="level3">
<h3 class="anchored" data-anchor-id="the-setup-1">THE SETUP</h3>
<p><em>“It’s Week 2 of the pilot (after the data quality issue was fixed). Your star agent, Sarah, has 8 years tenure and deep knowledge of customer service operations.</em></p>
<p><em>Sarah is actively discouraging the team from using the AI. Her reasoning: ‘AI can’t handle the nuance of our job. You’re going to replace us. I’m training everyone to work around it.’</em></p>
<p><em>3 of your 5 volunteer agents have stopped using the suggested response feature.</em></p>
<p><em>Your customer service manager warns you: ‘If you push this, you’ll have a revolt. Sarah’s got political capital here. People respect her. If she says don’t use it, they won’t.’</em></p>
<p><em>You have 30 minutes to handle this. What do you do?“</em></p>
<hr>
</section>
<section id="staff-answer---what-excellent-leadership-looks-like-1" class="level3">
<h3 class="anchored" data-anchor-id="staff-answer---what-excellent-leadership-looks-like-1">STAFF ANSWER - What Excellent Leadership Looks Like</h3>
<p><strong>Principle:</strong> Address the <strong>real concern</strong> (fear of replacement), not the <strong>stated objection</strong> (AI doesn’t work well).</p>
<p><strong>Immediate Action (Minute 1-3):</strong></p>
<ol type="1">
<li><strong>Don’t go around Sarah.</strong> Direct conversation with her + the manager. Alone, not a public callout.</li>
<li><strong>Listen first.</strong> Ask her: “Tell me what you’re worried about. What’s the real issue?”</li>
<li><strong>Acknowledge her fear.</strong> “You’ve been here 8 years. You care about this team’s future. That’s legitimate.”</li>
</ol>
<hr>
</section>
<section id="the-conversation-with-sarah-minute-4-12" class="level3">
<h3 class="anchored" data-anchor-id="the-conversation-with-sarah-minute-4-12">THE CONVERSATION WITH SARAH (Minute 4-12)</h3>
<p><strong>Your Opening:</strong></p>
<blockquote class="blockquote">
<p>“Sarah, I’ve noticed you’re skeptical about the AI. I want to understand why, because your feedback matters. What’s your real concern?”</p>
</blockquote>
<p><strong>Listen for these fears:</strong> - Fear of job loss → Address head-on - Genuine technical concern (AI really can’t do X) → Validate, adjust scope - Loss of control/autonomy → Acknowledge, offer partnership - Distrust of leadership → Build trust through transparency</p>
<hr>
</section>
<section id="responses-to-different-concerns" class="level3">
<h3 class="anchored" data-anchor-id="responses-to-different-concerns">RESPONSES TO DIFFERENT CONCERNS</h3>
<p><strong>If it’s job loss fear:</strong></p>
<blockquote class="blockquote">
<p>“I hear you. Let me be straight: We’re not replacing anyone. The customers asking ‘Where’s my order?’ don’t need your expertise—anyone can answer that in 2 minutes. You’re the expert on angry customers, complex problems, exceptions. AI handles the repetitive stuff so YOU can do the work only you can do.</p>
<p>In 2 years, I think you’re managing a team, not answering order tracking questions. Does that future sound interesting?”</p>
</blockquote>
<p><strong>If it’s technical concern:</strong></p>
<blockquote class="blockquote">
<p>“You’re right—AI can’t handle everything. That’s why we limit scope. It’s working on order tracking and return policy questions, not complaints or exceptions. I’ve seen the accuracy data; it’s solid for routine queries.</p>
<p>I’m asking for 4 more weeks. If it’s still not working, we kill it. You help me decide. Deal?”</p>
</blockquote>
<p><strong>If it’s trust/autonomy issue:</strong></p>
<blockquote class="blockquote">
<p>“Fair. I know we’ve asked a lot of you. Here’s what I’m committing to: Weekly updates on AI performance. You see the data, you help me interpret it. If you spot problems, we listen. You’re not just affected by this project—you’re steering it. Okay?”</p>
</blockquote>
<hr>
</section>
<section id="parallel-address-the-team-minute-12-20" class="level3">
<h3 class="anchored" data-anchor-id="parallel-address-the-team-minute-12-20">PARALLEL: Address the Team (Minute 12-20)</h3>
<p><strong>In a team meeting (with Sarah present, ideally cooperating):</strong></p>
<blockquote class="blockquote">
<p>“I want to address the elephant in the room. Some of you are concerned about the AI. Legitimate concerns. Here’s what I know:</p>
<ol type="1">
<li><p><strong>You’re not being replaced.</strong> If I wanted to replace you, I’d hire a call centre in India for 1/3 the cost. I didn’t. You’re here because you’re good at this job.</p></li>
<li><p><strong>AI is handling specific routine queries.</strong> Order tracking. Policy questions. Not complaints. Not exceptions. Not things that need judgment.</p></li>
<li><p><strong>You decide if it stays.</strong> I’m not forcing this on you. After 4 weeks, we evaluate together: Is it actually helping? Does it free you up for harder work? If the answer is no, we stop. You have veto power here.</p></li>
<li><p><strong>Your role is changing, yes. But for the better.</strong> Less time on repetitive stuff. More time on problems that actually use your skills. That’s not replacement—that’s a better job.</p></li>
</ol>
<p><strong>What I need from you:</strong> Honest feedback. If AI is screwing up, tell me. If it’s working, tell me that too. Sarah, especially—you’ve got great instincts. I want you leading this feedback process.”</p>
</blockquote>
<hr>
</section>
<section id="the-deeper-leadership-principle" class="level3">
<h3 class="anchored" data-anchor-id="the-deeper-leadership-principle">The Deeper Leadership Principle</h3>
<p>You’re not fighting Sarah. You’re <strong>revealing the real problem</strong> (fear + powerlessness) and <strong>restoring agency</strong> (you have a voice in this decision).</p>
<p><strong>Wrong moves that fail:</strong> - ❌ Fire Sarah = lose the team, create resentment, confirm fears - ❌ Sideline Sarah = lose her knowledge, create martyr, undermine trust - ❌ Ignore the problem = team united against you</p>
<p><strong>Right moves that work:</strong> - ✓ Listen to Sarah’s real concern - ✓ Acknowledge it publicly - ✓ Invite her into decision-making - ✓ Give team veto power - ✓ Give clear timeline</p>
<p>→ Often wins over the skeptic AND gains credibility with the whole team</p>
<hr>
</section>
<section id="debrief-questions-for-crisis-2" class="level3">
<h3 class="anchored" data-anchor-id="debrief-questions-for-crisis-2">DEBRIEF QUESTIONS FOR CRISIS #2</h3>
<ol type="1">
<li><strong>“What was Sarah’s REAL problem? Was it AI?”</strong>
<ul>
<li><em>Staff model:</em> “No, it was job security and autonomy. The AI was just the trigger.”</li>
<li><em>Teaching point:</em> Stated objections (“AI doesn’t work”) mask real concerns (“Will I be fired?”)</li>
</ul></li>
<li><strong>“How do you tell the difference between ‘legitimate feedback about the tech’ and ‘fear of change’?”</strong>
<ul>
<li><em>Staff model:</em> “Ask good questions. Listen. Legitimate feedback = specific (‘AI can’t categorise technical issues’). Fear = vague (‘AI is bad, don’t trust it’). Different solutions for each.”</li>
</ul></li>
<li><strong>“If Sarah still refuses to cooperate, what’s your next move?”</strong>
<ul>
<li><em>Staff model:</em> “Clear boundary: ‘We’re moving forward with the pilot. I want you on board, but I won’t let one person block it. You can participate or you can sit it out. But the project moves.’ Then hold the line.”</li>
<li><em>Teaching point:</em> Sometimes you need firmness, but only after you’ve genuinely listened</li>
</ul></li>
<li><strong>“How do you avoid this situation in the first place?”</strong>
<ul>
<li><em>Staff model:</em> “Involve Sarah from the design phase. Not just volunteers—get the skeptics in the room. They’ll raise real concerns that make the project better.”</li>
</ul></li>
</ol>
<hr>
<hr>
</section>
</section>
<section id="crisis-3-executive-pressure" class="level2">
<h2 class="anchored" data-anchor-id="crisis-3-executive-pressure">CRISIS #3: EXECUTIVE PRESSURE</h2>
<p><strong>Scenario Duration:</strong> 20 min (15 min work + 3 min presentation + 2 min debrief)</p>
<section id="the-setup-2" class="level3">
<h3 class="anchored" data-anchor-id="the-setup-2">THE SETUP</h3>
<p><em>“It’s Week 4 of the pilot. The project is going well:</em> - <em>Accuracy: 88%</em> - <em>Customer satisfaction: 82%</em> - <em>But cost savings are only $15K (you projected $50K by now)</em></p>
<p><em>Your CEO calls you in. She’s clearly frustrated:</em></p>
<blockquote class="blockquote">
<p><em>‘I heard from another company that they scaled their AI to ALL customer service within 8 weeks. Why are we moving so slowly? I want to expand this to all query types and all customers. Do it in 4 weeks.’</em></p>
</blockquote>
<p><em>You know this would destroy the project. Expanding too fast = insufficient data, team not ready, rushing to scale is how pilots fail. But the CEO is your boss.</em></p>
<p><em>You have 30 minutes to convince her to stick with your plan OR to clearly articulate what a fast expansion would actually require.”</em></p>
<hr>
</section>
<section id="staff-answer---what-excellent-leadership-looks-like-2" class="level3">
<h3 class="anchored" data-anchor-id="staff-answer---what-excellent-leadership-looks-like-2">STAFF ANSWER - What Excellent Leadership Looks Like</h3>
<p><strong>Mindset:</strong> You’re not refusing the CEO. You’re <strong>educating her on reality</strong> + <strong>proposing an alternative</strong> that satisfies her urgency without blowing up the project.</p>
<hr>
</section>
<section id="preparation-before-the-conversation" class="level3">
<h3 class="anchored" data-anchor-id="preparation-before-the-conversation">PREPARATION (Before the conversation)</h3>
<p>Have this ready: - Current metrics (88% accuracy, 82% satisfaction) - Risk analysis of fast scaling - Cost of 4-week scale (spoiler: much higher than you budgeted) - A “fast path” proposal that’s faster but still realistic</p>
<hr>
</section>
<section id="the-conversation" class="level3">
<h3 class="anchored" data-anchor-id="the-conversation">THE CONVERSATION</h3>
<p><strong>Your Opening (not defensive):</strong></p>
<blockquote class="blockquote">
<p>“I hear the urgency. Our competitor’s doing fast scale—that’s pressure on us. Let me show you why we’re on the right path and what a faster path would actually look like.”</p>
</blockquote>
<hr>
</section>
<section id="present-the-data" class="level3">
<h3 class="anchored" data-anchor-id="present-the-data">Present the Data</h3>
<blockquote class="blockquote">
<p>“We’re 4 weeks in. Accuracy 88%, satisfaction 82%. We’re learning things. Last week we found a data issue we fixed. We’re identifying edge cases.</p>
<p>Here’s what I’ve learned from other companies: Organisations that scale too fast hit a wall around week 12 when errors start compounding. By then they’ve promised scale to the board. Now they’re scrambling to fix problems in production affecting thousands of customers.”</p>
</blockquote>
<hr>
</section>
<section id="explain-the-constraint" class="level3">
<h3 class="anchored" data-anchor-id="explain-the-constraint">Explain the Constraint</h3>
<blockquote class="blockquote">
<p>“Here’s the thing: We can scale in 4 weeks. It’s possible. But here’s what it requires: - <strong>$200K additional budget</strong> (we budgeted $150K; we’re currently on track) - <strong>No quality assurance phase</strong> (ship it and fix bugs live) - <strong>Team has NO time to prepare</strong> for scope change - <strong>We hit unforeseen issues after we’ve already promised scale</strong></p>
<p>OR we can follow the plan: 2 more weeks of current scope, proven system, then scale to all query types over 8 weeks. By week 14, we’re fully scaled with data to support it.”</p>
</blockquote>
<hr>
</section>
<section id="propose-a-hybrid-the-compromise" class="level3">
<h3 class="anchored" data-anchor-id="propose-a-hybrid-the-compromise">Propose a Hybrid (The Compromise)</h3>
<blockquote class="blockquote">
<p>“What if we do this: Expand to return policy queries (already prepared) in week 6. That gets us to 60% of queries in AI by week 8. Accelerated but not reckless. Show the board real progress without betting the project. Then full scale by week 14. That’s 6 weeks faster than my original plan but way more controlled than 4 weeks.”</p>
</blockquote>
<hr>
</section>
<section id="address-the-real-pressure" class="level3">
<h3 class="anchored" data-anchor-id="address-the-real-pressure">Address the Real Pressure</h3>
<blockquote class="blockquote">
<p>“I know the board is watching. Scaling fast LOOKS good. But in 6 months, we either have ‘fast scale that failed, cost $500K, and we’re rolling back’ or ‘controlled scale that worked, saved $2M annually.’ I’m betting the board prefers option 2.</p>
<p>And I want to give you a win—expanded scope in 6 weeks—but not at the cost of the project.”</p>
</blockquote>
<hr>
</section>
<section id="key-principles-in-this-conversation" class="level3">
<h3 class="anchored" data-anchor-id="key-principles-in-this-conversation">Key Principles in This Conversation</h3>
<ol type="1">
<li><strong>Don’t say “No.”</strong> Say “Here’s what No looks like” and “Here’s what Yes-but-controlled looks like.”</li>
<li><strong>Use data.</strong> “88% accuracy” beats “we’re not ready” every time.</li>
<li><strong>Acknowledge her urgency.</strong> “I hear the pressure” shows empathy, not dismissal.</li>
<li><strong>Offer a middle path.</strong> “6 weeks instead of 8 weeks” gives her some acceleration without killing the project.</li>
<li><strong>Reframe risk.</strong> “Fast scale that fails” is worse optics than “methodical scale that succeeds.”</li>
</ol>
<hr>
</section>
<section id="what-youre-really-doing" class="level3">
<h3 class="anchored" data-anchor-id="what-youre-really-doing">What You’re Really Doing</h3>
<p>Managing up = helping the executive make good decisions by providing clear options + consequences.</p>
<ul>
<li>❌ Bad manager: “No, we can’t go fast.” (Defensive)</li>
<li>✓ Good manager: “We can go fast. Here’s what fast costs. Here’s a middle path. Here’s why the middle path wins.” (Leadership)</li>
</ul>
<hr>
</section>
<section id="debrief-questions-for-crisis-3" class="level3">
<h3 class="anchored" data-anchor-id="debrief-questions-for-crisis-3">DEBRIEF QUESTIONS FOR CRISIS #3</h3>
<ol type="1">
<li><strong>“What’s the difference between ‘pushing back on the CEO’ and ‘helping the CEO make a good decision’?”</strong>
<ul>
<li><em>Staff model:</em> “Pushback = defensive, emotional. Good advice = data-driven, options, clear trade-offs. You’re the expert; you guide, not block.”</li>
</ul></li>
<li><strong>“Did you have to give in? Or was standing firm okay?”</strong>
<ul>
<li><em>Staff model:</em> “Depends on the CEO. If she’s data-driven, show her the data and propose the middle path—she’ll often agree. If she’s politics-first, you need to frame it in terms of what makes HER look good. ‘Controlled scale = you look smart. Fast scale that crashes = you look reckless.’”</li>
</ul></li>
<li><strong>“What would you do if the CEO insisted on the 4-week timeline despite your concerns?”</strong>
<ul>
<li><em>Staff model:</em> “Clear, respectful boundary: ‘CEO, I understand. I want to be clear: If we do this in 4 weeks and it fails, that’s on me as PM. I’m not comfortable with that risk. What I AM comfortable with is [middle path]. If you want 4 weeks, I need to step aside and let someone else own it.’”</li>
<li><em>Teaching point:</em> Sometimes you have to be willing to walk away to maintain integrity</li>
</ul></li>
<li><strong>“How do you avoid this crisis in the first place?”</strong>
<ul>
<li><em>Staff model:</em> “Communicate progress constantly. Weekly updates to CEO: ‘Here’s what we learned, here’s the plan for scale, here’s the risk of going faster.’ No surprises. If she sees the data weekly, she’s invested in the plan and less likely to suddenly demand change.”</li>
</ul></li>
</ol>
<hr>
<hr>
</section>
</section>
<section id="crisis-4-ethical-dilemma" class="level2">
<h2 class="anchored" data-anchor-id="crisis-4-ethical-dilemma">CRISIS #4: ETHICAL DILEMMA</h2>
<p><strong>Scenario Duration:</strong> 20 min (15 min work + 3 min presentation + 2 min debrief)</p>
<section id="the-setup-3" class="level3">
<h3 class="anchored" data-anchor-id="the-setup-3">THE SETUP</h3>
<p><em>“It’s Week 6 of pilot. Everything is working well:</em> - <em>AI accuracy: 91%</em> - <em>Customer satisfaction: 82%</em> - <em>Team is engaged</em> - <em>CEO is happy</em></p>
<p><em>Then the data scientist brings you a problem that changes everything:</em></p>
<blockquote class="blockquote">
<p><em>’I was doing some analysis on our training data. We trained the AI on historical customer service data from the past 5 years. That data is biased.</em></p>
<p><em>Older customers get faster response times. Rural customers get slower. Specific zip codes marked as ‘high-risk’ in our system.</em></p>
<p><em>The AI has learned this bias from historical patterns. So it’s now recommending: Give priority to urban customers, flag rural customers as ‘high-effort,’ speed responses for wealthy zip codes.’</em></p>
</blockquote>
<p><em>Data scientist continues: ‘We can mask the bias with a different algorithm, but it’ll reduce accuracy to 85%. OR we ship the biased system as-is; customers won’t notice, metrics stay good, and honestly, the bias is mild.’</em></p>
<p><em>You have 30 minutes to decide: Do you fix bias (eat accuracy cost) or ship the biased system?“</em></p>
<hr>
</section>
<section id="staff-answer---what-excellent-leadership-looks-like-3" class="level3">
<h3 class="anchored" data-anchor-id="staff-answer---what-excellent-leadership-looks-like-3">STAFF ANSWER - What Excellent Leadership Looks Like</h3>
<p><strong>Principle:</strong> In a real dilemma with no perfect answer, you choose based on <strong>values + long-term thinking</strong>.</p>
<hr>
</section>
<section id="immediate-recognition" class="level3">
<h3 class="anchored" data-anchor-id="immediate-recognition">IMMEDIATE RECOGNITION</h3>
<p>You’re facing a classic ethical vs.&nbsp;business trade-off: - <strong>Business case:</strong> Ship as-is, good metrics, happy CEO, no problems until someone discovers it in 2 years - <strong>Ethical case:</strong> Fix bias, lower metrics, harder to justify scaling, but you sleep at night and the company doesn’t face PR disaster</p>
<hr>
</section>
<section id="the-wrong-approach" class="level3">
<h3 class="anchored" data-anchor-id="the-wrong-approach">THE WRONG APPROACH</h3>
<ul>
<li>❌ “Ignore it and hope no one notices” ← Cowardice. Will blow up later, worse.</li>
<li>❌ “Fix bias, don’t tell anyone about the trade-off” ← Dishonest. CEO finds out later, loses trust.</li>
<li>❌ “We’re a business, not a charity; ship it” ← Short-term thinking. Bias gets discovered, becomes a scandal.</li>
</ul>
<hr>
</section>
<section id="the-right-approach-staff-answer" class="level3">
<h3 class="anchored" data-anchor-id="the-right-approach-staff-answer">THE RIGHT APPROACH (Staff Answer)</h3>
<p><strong>Step 1: Get the Facts</strong></p>
<blockquote class="blockquote">
<p>“Talk to the data scientist: How bad is the bias? Is it illegal (discrimination) or just ethically questionable? If a customer complains in 6 months, what happens? Can we fix bias over time or is it permanent?”</p>
</blockquote>
<p><em>Likely answer:</em> “It’s not illegal per se, but it’s discriminatory. We’re deprioritizing rural/low-income customers. If discovered, it’s a PR problem + potential regulatory issue.”</p>
<hr>
<p><strong>Step 2: Reframe the Choice</strong></p>
<p>You’re not choosing between “good metrics” vs.&nbsp;“ethical company.”</p>
<p>You’re choosing between: - <strong>Option A:</strong> 91% accuracy, biased system, regulatory/PR risk, damaged reputation if discovered - <strong>Option B:</strong> 85% accuracy, unbiased system, defensible decision, scalable with integrity</p>
<p><strong>Option B is actually better long-term.</strong> You can scale Option B confidently. Option A is a ticking time bomb.</p>
<hr>
<p><strong>Step 3: Make the Decision (and tell everyone why)</strong></p>
<blockquote class="blockquote">
<p>“We fix the bias. Here’s why:</p>
<ol type="1">
<li><p><strong>It’s the right thing.</strong> We’re deprioritizing rural customers because they’re poorer. That’s discrimination. Not acceptable.</p></li>
<li><p><strong>It’s the smart business.</strong> If we discover this bias in production in 2 years, it’s a scandal. Fixing it now costs us 6 percentage points of accuracy. Fixing it after discovery costs us brand damage, regulatory fines, customer lawsuits.</p></li>
<li><p><strong>It’s scalable.</strong> I can’t scale a system I know is biased. You can’t present it to the board. Can’t explain it to customers. It limits our future. Fixing bias now means we can scale with integrity.</p></li>
<li><p><strong>We learn something valuable.</strong> By addressing this now, we build bias-testing into all future AI projects. That’s a competitive advantage.</p></li>
</ol>
<p>So: We update the algorithm to remove bias. Accuracy drops to 85% for 4 weeks while we retrain. Then we restart.</p>
<p>Here’s what I’m NOT doing: Hiding this from leadership or blaming the data scientist. This is a together decision.”</p>
</blockquote>
<hr>
</section>
<section id="step-4-communicate-the-decision" class="level3">
<h3 class="anchored" data-anchor-id="step-4-communicate-the-decision">Step 4: Communicate the Decision</h3>
<p><strong>To Data Scientist:</strong></p>
<blockquote class="blockquote">
<p>“You did the right thing flagging this. This is what integrity looks like. Let’s figure out how to fix it without tanking the project.”</p>
</blockquote>
<p><strong>To CEO:</strong></p>
<blockquote class="blockquote">
<p>“We discovered the AI had absorbed historical bias from training data. We’re fixing it—it’ll cost us 4 weeks and a few percentage points of accuracy, but it’s the right call. This is why we pilot things: to find these issues before scaling.”</p>
</blockquote>
<p><strong>To Team:</strong></p>
<blockquote class="blockquote">
<p>“We’re pausing for 2 weeks to fix a fairness issue we found. This is a good thing—it means our process works. We’re building a system we can be proud of.”</p>
</blockquote>
<p><strong>To Stakeholders (eventually):</strong></p>
<blockquote class="blockquote">
<p>“Our AI underwent fairness testing and we made improvements to ensure equitable treatment across customer segments. We’re committed to responsible AI.”</p>
</blockquote>
<hr>
</section>
<section id="the-learning-points" class="level3">
<h3 class="anchored" data-anchor-id="the-learning-points">The Learning Points</h3>
<ol type="1">
<li><p><strong>“Ethics aren’t separate from business; they’re part of business.”</strong> A biased system isn’t a cost-neutral hack—it’s a liability with a ticking clock.</p></li>
<li><p><strong>“Long-term thinking beats short-term optimization.”</strong> 91% biased accuracy is worse than 85% fair accuracy if one blows up your reputation.</p></li>
<li><p><strong>“Leadership is deciding what you stand for.”</strong> Anyone can ship the biased system. Leaders say “not on my watch.”</p></li>
<li><p><strong>“Complexity is okay if you’re transparent.”</strong> CEO is disappointed about 85% accuracy—but if you explain why, most good leaders respect the decision.</p></li>
</ol>
<hr>
</section>
<section id="debrief-questions-for-crisis-4" class="level3">
<h3 class="anchored" data-anchor-id="debrief-questions-for-crisis-4">DEBRIEF QUESTIONS FOR CRISIS #4</h3>
<ol type="1">
<li><strong>“What do you do when ethics and business metrics conflict?”</strong>
<ul>
<li><em>Staff model:</em> “Remember they’re not actually in conflict long-term. The ethical choice is the right business choice if you think past Q1.”</li>
</ul></li>
<li><strong>“How do you identify bias in AI systems?”</strong>
<ul>
<li><em>Staff model:</em> “Proactively test for it. Look at outcomes by demographic group. If one group gets systematically worse service, investigate. Don’t wait for someone to discover it.”</li>
</ul></li>
<li><strong>“What would you do if the CEO insisted on shipping the biased version?”</strong>
<ul>
<li><em>Staff model:</em> “Clear statement: ‘CEO, I can’t recommend this. It’s a liability. If you want to overrule me, that’s your call, but I need it documented that you made this decision.’ Then cover yourself professionally and look for another job.”</li>
</ul></li>
<li><strong>“How does this crisis change how you design the next AI project?”</strong>
<ul>
<li><em>Staff model:</em> “Bias testing is part of the plan from the start. You budget time for it. You’re proactive instead of reactive. You bring ethicists/fairness experts into the room early.”</li>
</ul></li>
</ol>
<hr>
<hr>
</section>
</section>
<section id="overall-crisis-simulation-debrief-15-min-after-all-4-crises" class="level2">
<h2 class="anchored" data-anchor-id="overall-crisis-simulation-debrief-15-min-after-all-4-crises">OVERALL CRISIS SIMULATION DEBRIEF (15 min, after all 4 crises)</h2>
<p><strong>BIG PICTURE QUESTIONS to drive learning:</strong></p>
<section id="question-1-patterns" class="level3">
<h3 class="anchored" data-anchor-id="question-1-patterns">Question 1: Patterns</h3>
<p><strong>“What surprised you about these crises?”</strong></p>
<ul>
<li><em>Expected answer:</em> “The first three weren’t technical—they were people and stakeholder issues. The last one was values.”</li>
<li><em>Teaching point:</em> This is the real pattern in AI projects. Technical failures are rare. People failures are everywhere.</li>
</ul>
<hr>
</section>
<section id="question-2-frequency" class="level3">
<h3 class="anchored" data-anchor-id="question-2-frequency">Question 2: Frequency</h3>
<p><strong>“How many of these crises do you think happen in real AI projects?”</strong></p>
<ul>
<li><em>Staff model:</em> “All of them. Variants of all four happen in every mid-sized AI implementation.”</li>
<li><em>Teaching point:</em> You’re not being pessimistic by running crisis simulations. You’re being realistic.</li>
</ul>
<hr>
</section>
<section id="question-3-difficulty" class="level3">
<h3 class="anchored" data-anchor-id="question-3-difficulty">Question 3: Difficulty</h3>
<p><strong>“Which crisis was hardest to navigate?”</strong></p>
<ul>
<li><em>Likely answer:</em> Crisis #4 (ethical dilemma) or Crisis #3 (managing up)</li>
<li><em>Staff model:</em> “Exactly. Technical crises you can solve with data and engineering. People crises are harder. Values crises are hardest because there’s no ‘right answer’—just choices about who you are.”</li>
</ul>
<hr>
</section>
<section id="question-4-planning" class="level3">
<h3 class="anchored" data-anchor-id="question-4-planning">Question 4: Planning</h3>
<p><strong>“If you were betting your career on an AI project, what would you do differently from these crises?”</strong></p>
<ul>
<li><em>Staff model:</em>
<ul>
<li>“Anticipate them. Know your red lines (ethics). Invest in relationships before crisis happens.”</li>
<li>“Communicate early and often. Weekly updates mean no surprises.”</li>
<li>“Have a plan for the hard conversations.”</li>
<li>“Involve skeptics from the start, not as a reaction.”</li>
</ul></li>
</ul>
<hr>
</section>
<section id="question-5-decision-making" class="level3">
<h3 class="anchored" data-anchor-id="question-5-decision-making">Question 5: Decision-Making</h3>
<p><strong>“What would make you kill a project?”</strong></p>
<ul>
<li><em>Staff model:</em>
<ul>
<li>“Fundamental ethical issues (Crisis #4)”</li>
<li>“Accuracy that won’t improve (Crisis #1)”</li>
<li>“Team that won’t adopt it (Crisis #2)”</li>
<li>“Loss of stakeholder trust (Crisis #3)”</li>
</ul></li>
<li><em>Teaching point:</em> “You don’t need to fail perfectly—just knowing when to quit is leadership.”</li>
</ul>
<hr>
</section>
</section>
<section id="key-learning-points-for-crisis-simulation" class="level2">
<h2 class="anchored" data-anchor-id="key-learning-points-for-crisis-simulation">KEY LEARNING POINTS FOR CRISIS SIMULATION</h2>
<p><strong>After all debriefs, emphasize these:</strong></p>
<section id="of-ai-project-failures-are-people-and-process-not-technology" class="level3">
<h3 class="anchored" data-anchor-id="of-ai-project-failures-are-people-and-process-not-technology">1. “80% of AI Project Failures Are People and Process, Not Technology”</h3>
<p>These four crises reflect that reality. Your job as PM is managing people + stakeholders + ethics, not just tech.</p>
</section>
<section id="crisis-leadership-staying-calm-transparent-communication" class="level3">
<h3 class="anchored" data-anchor-id="crisis-leadership-staying-calm-transparent-communication">2. “Crisis Leadership = Staying Calm + Transparent Communication”</h3>
<p>In a crisis, people look to you for clarity. <em>“I don’t have all the answers but here’s what I know and here’s how we’ll figure it out”</em> beats panic or false confidence.</p>
</section>
<section id="the-values-decision-is-the-hardest" class="level3">
<h3 class="anchored" data-anchor-id="the-values-decision-is-the-hardest">3. “The Values Decision Is the Hardest”</h3>
<p>Crisis #4 has no elegant solution. Being a leader sometimes means absorbing cost (lost accuracy) for integrity. That’s where character matters more than an MBA.</p>
</section>
<section id="every-crisis-teaches-something" class="level3">
<h3 class="anchored" data-anchor-id="every-crisis-teaches-something">4. “Every Crisis Teaches Something”</h3>
<p>Better to face it in a pilot (Crisis #1 teaches you about data quality) than at full scale when one mistake affects thousands of customers. <strong>Pilots exist for this reason.</strong></p>
</section>
<section id="youre-not-managing-technology-youre-managing-people-facing-change" class="level3">
<h3 class="anchored" data-anchor-id="youre-not-managing-technology-youre-managing-people-facing-change">5. “You’re Not Managing Technology; You’re Managing People Facing Change”</h3>
<p>Sarah’s resistance (Crisis #2) is the most human crisis. Solve it by respecting her, not overruling her. Everyone on the team is “Sarah”—they want security, respect, and a voice.</p>
</section>
<section id="the-first-instinct-often-reveals-your-values" class="level3">
<h3 class="anchored" data-anchor-id="the-first-instinct-often-reveals-your-values">6. “The First Instinct Often Reveals Your Values”</h3>
<p>What did you do in Crisis #4? Did you reach for “ship it” or “fix it”? Your first instinct shows your values. Your decision shows your leadership.</p>
<hr>
</section>
</section>
<section id="facilitator-tips-for-crisis-simulation" class="level2">
<h2 class="anchored" data-anchor-id="facilitator-tips-for-crisis-simulation">FACILITATOR TIPS FOR CRISIS SIMULATION</h2>
<section id="during-exercise" class="level3">
<h3 class="anchored" data-anchor-id="during-exercise">During Exercise</h3>
<ul>
<li><strong>Don’t help them:</strong> Let them struggle. Crisis is supposed to feel uncomfortable.</li>
<li><strong>Inject pressure:</strong> “You have 5 minutes left. Make a decision.” Time pressure is part of the learning.</li>
<li><strong>Play reluctant stakeholders:</strong> If they’re presenting to “CEO,” push back a little. Make them justify their decision.</li>
</ul>
</section>
<section id="during-debrief" class="level3">
<h3 class="anchored" data-anchor-id="during-debrief">During Debrief</h3>
<ul>
<li><strong>Don’t correct their answer:</strong> Ask follow-ups: “What would happen if X changed?” They’ll often discover the issue themselves.</li>
<li><strong>Notice shifts:</strong> “You started by pausing AI, then considered continuing. What changed your mind?”</li>
<li><strong>Land the learning:</strong> “Notice what you just did: You put safety first, communicated clearly, took ownership. That’s crisis leadership.”</li>
</ul>
</section>
<section id="common-mistakes-to-avoid" class="level3">
<h3 class="anchored" data-anchor-id="common-mistakes-to-avoid">Common Mistakes to Avoid</h3>
<ul>
<li>❌ Don’t skip Crisis #4 (the ethics crisis)—that’s where real character shows</li>
<li>❌ Don’t over-explain the “right answer”—let them discover it via questions</li>
<li>❌ Don’t let one crisis dominate—keep moving; all four teach different lessons</li>
<li>❌ Don’t make the debrief feel like a lecture—ask questions, listen, pull learning from the room</li>
</ul>
<hr>
</section>
</section>
<section id="what-to-watch-for-as-facilitator" class="level2">
<h2 class="anchored" data-anchor-id="what-to-watch-for-as-facilitator">WHAT TO WATCH FOR (As Facilitator)</h2>
<section id="green-flags-good-leadership-indicators" class="level3">
<h3 class="anchored" data-anchor-id="green-flags-good-leadership-indicators">Green Flags (Good Leadership Indicators)</h3>
<ul>
<li>✓ Pauses to understand before acting (Crisis #1)</li>
<li>✓ Listens to people’s real concerns, not stated objections (Crisis #2)</li>
<li>✓ Offers alternatives with trade-offs clearly stated (Crisis #3)</li>
<li>✓ Chooses values over metrics (Crisis #4)</li>
<li>✓ Takes ownership instead of blaming others</li>
<li>✓ Thinks about long-term consequences, not just immediate fix</li>
<li>✓ Communicates clearly to all stakeholders</li>
</ul>
</section>
<section id="red-flags-poor-leadership-indicators" class="level3">
<h3 class="anchored" data-anchor-id="red-flags-poor-leadership-indicators">Red Flags (Poor Leadership Indicators)</h3>
<ul>
<li>❌ Panics and makes decisions too fast (Crisis #1)</li>
<li>❌ Ignores Sarah or sidelines her (Crisis #2)</li>
<li>❌ Says “no” to CEO without offering alternatives (Crisis #3)</li>
<li>❌ Ships the biased system without hesitation (Crisis #4)</li>
<li>❌ Blames others (data team, CEO, whatever)</li>
<li>❌ Thinks only about immediate fix, ignores long-term</li>
<li>❌ Communicates differently to different audiences (dishonest)</li>
</ul>
<hr>
<p><strong>Next Activity:</strong> After Crisis debrief, you typically move to Scale/Pivot/Kill exercise where they decide what to do with the pilot after all these crises.</p>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>